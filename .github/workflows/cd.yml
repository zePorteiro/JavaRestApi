name: Continuous Delivery

on:
  push:
    branches:
      - integracoes_1

jobs:
  deploy:
    runs-on: self-hosted 
    steps:
      - name: Checkout do Código
        uses: actions/checkout@v3  

      - name: Verificar versão do Docker
        run: docker --version

      - name: Stop Docker container
        run: |
          docker stop 2db0f3bc0d82 || true  

      - name: Remove Docker container
        run: |
          docker rm 2db0f3bc0d82 || true 

      - name: Run Docker container
        run: |
          docker create --name hello-world -p 8080:8080 hello-world
          docker start hello-world


