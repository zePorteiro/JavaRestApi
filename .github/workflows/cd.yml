name: Continuous Delivery

on:
  push:
    branches:
      - integracoes_1

jobs:
  deploy:
    runs-on: self-hosted

    steps:
    - name: Checkout CÃ³digo
      uses: actions/checkout@v3

    - name: Pull Docker image 
    - run: docker pull hello-world:latest

    - name: Stop Docker container 
    - run: docker stop hello-world || true

    - name: Remove Docker container 
    - run: docker rm hello-world || true

    - name: Run Docker container 
    - run: docker run --name hello-world -d -p 8080:8080 hello-world:latest
